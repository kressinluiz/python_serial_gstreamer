# GStreamer 
GSreamer is a framework designed to handle multimedia flows.
Media travels from the "source" elements (the producers), down to the "sink" elements (the consumers), passing through
a series of intermediate elements performing all kinds of tasks. The set of all the interconnected elements is called 
a pipeline.

Concept of a pipeline: [source] -> [filter] -> [sink]

# GStreamer BUS
It is the object responsible for delivering to the application the Gst.Messages generated by the elements, in order and to the application thread.
This last point is important, because the actual streaming of media is done in another thread than the application.

## Functions

### Gst.init(sys.argv[1:])
 - initialize GStreamer
    - Initializes all internal structures
    - Checks what plug-ins are available
    - Executes any command-line option intended for GStreamer
    - If you always pass command line parameters argc and argv to Gst.init():
        - The application will automatically benefit from the GStreamer standard command-line options

### Gst.parse_launch()
 This function takes a textual representation of a pipeline and turns it into an actual pipeline

### Gst.State.PLAYING
This line highlights another interesting concept: the state. 
Every GStreamer element has an associated state, which you can more or less think of as the Play/Pause button. 
For now, suffice to say that playback will not start unless you set the pipeline to the PLAYING state.

### Gst.State.NULL
The pipeline state should always be set back to Gst.State.NULL before quitting

### Gst.ElementFactory.make()
This function creates new elements. 
- The first parameter is the type of element to create.
- The second parameter is the name we want to give it

### Gst.Pipeline.new()
All elements in GStreamer must typically be contained inside a pipeline before they can be used.
The pipeline takes care of some clocking and messaging functions.

### Gst.Bin
- [Gst.Bin](https://gstreamer.freedesktop.org/documentation/gstreamer/gstbin.html?gi-language=python#GstBin)
- Gst.Bin is the element used to contain other elements.  
- A pipeline is a particular type of Gst.Bin (all methods which apply to bins also apply to pipelines)

### Gst.Bin.add()
Gst.Bin.add() can be used to add elements to a pipeline object.
For example:
   pipeline = Gst.Pipeline.new('name of the pipeline') 
   pipeline.add(source or sink element created with Gst.ElementFactory.make() )

### Gst.Element.link()
- The elements added to the pipeline with Gst.Bin.add() are not linked with each other yet. This function does the trick.
- The order counts. Links must be established following the data flow.
- Only elements residing in the same bin can be linked together

## Elements

- Source elements produces data
- Sink elements consumes data

### playbin
 What is it? playbin is a special element which acts as a source and as a sink, and is a whole pipeline.
- Internally, it creates and connects all the necessary elements to play your media.

### videotestsrc
 - Creates a test video pattern.
 - This element is useful for debugging purposes (and tutorials) and is not usually found in real applications.

### autovideosink
- Displays on a window the images it receives. 
- There exist several video sinks, depending on the operating system, with a varying range of capabilities.

## Properties
[GObject.Object](https://pygobject.readthedocs.io/en/latest/guide/api/properties.html)
GStreamer's elements are all a particular kind of [GObject.Object](https://pygobject.readthedocs.io/en/latest/guide/api/properties.html), which is the entity offering property facilities.
Most GStreamer elements have customizable properties: 
  - Named attributes that can be modified to change the element's behavior (writable properties) 
  - Attributes that can be inquired to find out about the element's internal state (readable properties)

For example: Let's assume a Gst Element *source* with a property *pattern* was created using Gst.ElementFactory.make()
- The current state of a property can be fetched by either:
   - Acessing the property *pattern* as an attribute of the *props* attribute of a Gst Element. tmp = source.props.pattern
   - Using the *get_property* method of the element. tmp = source.get_property("pattern")
- Properties can be set by one of three methods:
   - Setting the property as an attribute of the props attribute. Ex: source.props.pattern = 1 or equivalently source.props.pattern="snow"
   - Using the set_property method of the element. Ex: source.set_property("pattern", 1) or equivalently source.set_property("pattern", "snow")
   - Using the Gst.util_set_object_arg() method. This mode also allows you to pass Gst Caps and other structures. Ex: Gst.util_set_object_arg(source, "pattern", "snow"), or equivalently, Gst.util_set_object_arg(source, "pattern", 1)
     
Note: In all three methods of setting a property, if a string is passed as the value to set, it has to be the serialized version of a flag or value (using Gst.value_serialize())



